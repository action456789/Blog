如果要说 VSCode 哪个特性极大的提高了编码效率，多光标编辑绝对是其中之一。多光标编辑让我们避免重复进行相同的文本，VSCode 内建的和第三方扩展提供的文本处理命令更是能极大的增强多光标编辑的灵活性。希望通过阅读这篇文章，能够教会读者如何在日常编辑中灵活运用多光标编辑。

内容大纲：

- 如何添加多光标
- 光标移动的多种方式
- 选中文本
- 多光标结合文本处理命令
- 多光标实战
- 多光标外更好的选择

## 如何添加多光标

### 通用的方法

按住 <kbd>⌥</kbd> 键不放，再将光标移动到任何你想添加光标的地方直接点击就会增加一个光标。

![通用的方法](https://s2.loli.net/2022/03/26/e5Bybvk9nurJqSc.gif)

### 添加光标的快捷键

> VSCode 中和光标相关的快捷键中都有 alt 键

我们可以通过 <kbd>⌘</kbd>+<kbd>K</kbd>, <kbd>⌘</kbd>+<kbd>D</kbd> 快捷键组合打开 VSCode 快捷键表，搜索 `cursor` 会列出所有和光标有关的快捷键，搜索 `add cursor` 就可以查看和 `添加多光标` 相关的快捷键：

![VSCode 添加多光标快捷键](https://s2.loli.net/2022/03/26/9mgWcrPbxGD1v3y.png)

同一列添加光标：

- <kbd>⌥</kbd>+<kbd>⇧</kbd>+<kbd>↓</kbd>: 向下一行同一列添加光标
- <kbd>⌥</kbd>+<kbd>⇧</kbd>+<kbd>↑</kbd>: 向上一行同一列添加光标

![同一列添加光标](https://s2.loli.net/2022/03/26/eGUiylqvfCO3mZn.gif)

### 添加选区

VSCode 中可以同时存在多个光标，也可以同时存在多个选区。在 VSCode 中大多数添加选区的命令，添加选区的同时也会添加一个光标。因此我们可以利用添加选区的快捷键来添加多光标。

常用的有：

- <kbd>⌘</kbd>+<kbd>D</kbd>：添加选区到下一个查找到的匹配
- <kbd>⌘</kbd>+<kbd>⇧</kbd>+<kbd>L</kbd>: 添加选区到所有查找到的匹配

![添加选区](https://s2.loli.net/2022/03/26/bPfYT5J8v6BwAnz.gif)

上面两个快捷键虽然是说查到到的匹配，实际上使用的时候并不会展开搜索框。

VSCode 提供的命令很多时候是满足对称性的，例如 <kbd>⌘</kbd>+<kbd>D</kbd> 是添加选区到下一个查找到匹配，那么大概率就会有一个命令用于添加选区到前一个查到到的匹配。

![添加选区快捷键](https://s2.loli.net/2022/03/26/tpfR7xWMGKO8cmD.png)

如过要查找的文本比较复杂，我们可以直接先打开搜索，利用搜索框提供的大小写忽略，匹配整个单词，正则功能来查找复杂的文本，再使用 <kbd>⌘</kbd>+<kbd>⇧</kbd>+<kbd>L</kbd> 来选中所有。

![通过搜索来添加选区](https://s2.loli.net/2022/03/26/sIfcbknyrYqHu7j.gif)

**如果已经有一个选区**，我们可以使用快捷键 <kbd>⌘</kbd>+<kbd>Alt</kbd>+<kbd>I</kbd> 来在选区的所有行尾添加光标。如果这个时候你想将光标移动到行首，直接输入 Home 键即可。

下面的例子就是先选中多行，再将光标添加到所有行的行尾，将 ts interface 的每个属性行尾改成使用逗号分隔：

![添加光标到选区行尾](https://s2.loli.net/2022/03/26/PfxdhvnlyTbrFsN.gif)

## 光标移动
